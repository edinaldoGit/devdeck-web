import{d as w,r as f,w as R,c as V,a as U,b as D,T as N,e as S,f as z,g as i,h as d,i as e,j as C,F as k,k as _,n as E,t as r,l as p,o,_ as P,u as F,m as A,p as I,v as M,q as B,s as L,x as q,y as H,z as G,A as J,B as K}from"./index-G_Ayme-S.js";const Q={class:"modal-container devdeck-deep-glass"},W={class:"modal-content-grid"},X={class:"carousel-column"},Y={class:"main-image-wrapper"},Z=["src","alt"],ee={key:1,class:"no-image-placeholder"},se={key:2,class:"nav-overlay"},te={key:0,class:"thumbnails-track"},le=["onClick"],oe=["src"],ie={class:"info-column"},ae={class:"info-header"},ne={class:"project-title"},re={class:"project-short"},ce={class:"project-links"},de=["href"],ue=["href"],ve={class:"tags-wrapper"},me={class:"detailed-desc"},be=w({__name:"PublicProjectModal",props:{isOpen:{type:Boolean},project:{}},emits:["close"],setup(n,{emit:$}){const u=n,v=f(0);R(()=>u.project,()=>{v.value=0});const h=V(()=>!u.project?.images||u.project.images.length===0?u.project?.imageUrl||null:u.project.images[v.value]);function g(){!u.project?.images||u.project.images.length===0||(v.value<u.project.images.length-1?v.value++:v.value=0)}function m(){!u.project?.images||u.project.images.length===0||(v.value>0?v.value--:v.value=u.project.images.length-1)}function a(b){v.value=b}return(b,t)=>(o(),U(z,{to:"body"},[D(N,{name:"modal-fade"},{default:S(()=>[n.isOpen&&n.project?(o(),i("div",{key:0,class:"modal-backdrop",onClick:t[1]||(t[1]=C(c=>b.$emit("close"),["self"]))},[e("div",Q,[e("button",{class:"btn-close-absolute",onClick:t[0]||(t[0]=c=>b.$emit("close"))},[...t[2]||(t[2]=[e("i",{class:"bi bi-x-lg"},null,-1)])]),e("div",W,[e("div",X,[e("div",Y,[h.value?(o(),i("img",{key:0,src:h.value,alt:n.project.title,class:"main-img"},null,8,Z)):(o(),i("div",ee,[...t[3]||(t[3]=[e("i",{class:"bi bi-image"},null,-1),e("span",null,"Sem imagem",-1)])])),n.project.images&&n.project.images.length>1?(o(),i("div",se,[e("button",{class:"nav-btn prev",onClick:C(m,["stop"])},[...t[4]||(t[4]=[e("i",{class:"bi bi-chevron-left"},null,-1)])]),e("button",{class:"nav-btn next",onClick:C(g,["stop"])},[...t[5]||(t[5]=[e("i",{class:"bi bi-chevron-right"},null,-1)])])])):d("",!0)]),n.project.images&&n.project.images.length>1?(o(),i("div",te,[(o(!0),i(k,null,_(n.project.images,(c,y)=>(o(),i("div",{key:c,class:E(["thumb-item",{active:v.value===y}]),onClick:x=>a(y)},[e("img",{src:c},null,8,oe)],10,le))),128))])):d("",!0)]),e("div",ie,[e("header",ae,[e("h2",ne,r(n.project.title),1),e("p",re,r(n.project.shortDescription),1),e("div",ce,[n.project.linkDeploy?(o(),i("a",{key:0,href:n.project.linkDeploy,target:"_blank",class:"btn-link"},[...t[6]||(t[6]=[e("i",{class:"bi bi-globe"},null,-1),p(" Ver Projeto ",-1)])],8,de)):d("",!0),n.project.linkRepo?(o(),i("a",{key:1,href:n.project.linkRepo,target:"_blank",class:"btn-link"},[...t[7]||(t[7]=[e("i",{class:"bi bi-github"},null,-1),p(" Código ",-1)])],8,ue)):d("",!0)])]),e("div",ve,[(o(!0),i(k,null,_(n.project.tags,c=>(o(),i("span",{key:c,class:"tech-tag"},r(c),1))),128))]),t[9]||(t[9]=e("div",{class:"separator"},null,-1)),e("div",me,[t[8]||(t[8]=e("h3",null,"Sobre o Projeto",-1)),e("p",null,r(n.project.detailedDescription||"Nenhuma descrição detalhada fornecida."),1)])])])])])):d("",!0)]),_:1})]))}}),ge=P(be,[["__scopeId","data-v-23c7cbd7"]]),pe={class:"modal-glass"},fe={class:"modal-header"},he={class:"modal-body"},ke={class:"to-label"},_e={class:"form-group"},ye={class:"form-group"},je={class:"modal-footer"},$e=["disabled"],Ce=w({__name:"MessageModal",props:{isOpen:{type:Boolean},receiverId:{},receiverName:{}},emits:["close"],setup(n,{emit:$}){const u=n,v=$,h=F(),g=f(!1),m=A({subject:"",content:""});async function a(){if(!m.subject||!m.content){h.error("Preencha o assunto e a mensagem.");return}g.value=!0;try{await B.post("/messages",{receiverId:u.receiverId,subject:m.subject,content:m.content}),h.success(`Mensagem enviada para ${u.receiverName}!`),m.subject="",m.content="",v("close")}catch(b){console.error(b),h.error("Erro ao enviar mensagem.")}finally{g.value=!1}}return(b,t)=>(o(),U(N,{name:"fade"},{default:S(()=>[n.isOpen?(o(),i("div",{key:0,class:"modal-overlay",onClick:t[4]||(t[4]=C(c=>b.$emit("close"),["self"]))},[e("div",pe,[e("div",fe,[t[6]||(t[6]=e("h3",null,"Nova Mensagem",-1)),e("button",{class:"btn-close",onClick:t[0]||(t[0]=c=>b.$emit("close"))},[...t[5]||(t[5]=[e("i",{class:"bi bi-x-lg"},null,-1)])])]),e("div",he,[e("p",ke,[t[7]||(t[7]=p("Para: ",-1)),e("strong",null,r(n.receiverName),1)]),e("div",_e,[t[8]||(t[8]=e("label",null,"Assunto",-1)),I(e("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>m.subject=c),type:"text",placeholder:"Ex: Proposta de Vaga Front-end",class:"input-glass"},null,512),[[M,m.subject]])]),e("div",ye,[t[9]||(t[9]=e("label",null,"Mensagem",-1)),I(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=c=>m.content=c),rows:"5",placeholder:"Olá, vi seu portfólio e...",class:"input-glass area"},null,512),[[M,m.content]])])]),e("div",je,[e("button",{class:"btn-cancel",onClick:t[3]||(t[3]=c=>b.$emit("close"))},"Cancelar"),e("button",{class:"btn-send",onClick:a,disabled:g.value},[e("i",{class:E(["bi",g.value?"bi-hourglass-split":"bi-send-fill"])},null,2),e("span",null,r(g.value?"Enviando...":"Enviar"),1)],8,$e)])])])):d("",!0)]),_:1}))}}),De=P(Ce,[["__scopeId","data-v-142355b6"]]),we={class:"public-container"},Pe={key:0,class:"loading-overlay"},xe={key:1,class:"error-screen"},Ie={key:2,class:"content-wrapper"},Me={class:"public-header"},Ve={class:"header-content"},Ue=["src"],Ne={class:"layout-body"},Se={class:"sidebar-panel"},Ee={class:"glass-card profile-full-height"},Fe={class:"profile-top"},Be={class:"avatar-ring"},Te=["src","alt"],Oe={class:"dev-name"},Re={class:"dev-role"},ze={class:"dev-location"},Ae={class:"dev-bio"},Le={class:"profile-middle"},qe={class:"social-row"},He=["href"],Ge=["href"],Je=["href"],Ke={class:"content-panel"},Qe={class:"scrollable-content"},We={key:0,class:"glass-card mb-4"},Xe={class:"skills-wrapper"},Ye={key:1,class:"glass-card mb-4"},Ze={class:"projects-horizontal"},es=["onClick"],ss={class:"cover"},ts=["src","alt"],ls={class:"info"},os={class:"history-grid-container"},is={key:0,class:"glass-card"},as={class:"timeline scroll-box"},ns={class:"details"},rs={class:"head"},cs={class:"date"},ds={key:0,class:"sub"},us={key:1},vs={key:1,class:"glass-card"},ms={class:"timeline scroll-box"},bs={class:"details"},gs={class:"head"},ps={class:"date"},fs={key:0,class:"sub"},hs=["href"],ks=w({__name:"PortfolioView",setup(n){const $=H(),u=K(),v=L(),h=F(),g=f(!0),m=f(!1),a=f({id:0,name:"",role:"",headline:"",location:"",bio:"",avatarUrl:"",social:{},skills:[],experiences:[],education:[]}),b=f([]),t=f(!1),c=f(!1),y=f(null),x=V(()=>v.user?v.user.id!==a.value.id:!0);function T(j){y.value=j,t.value=!0}function O(){if(!v.isAuthenticated){h.info("Você precisa fazer login para enviar mensagens."),u.push("/login");return}c.value=!0}return q(async()=>{const j=$.params.id;if(!j){m.value=!0,g.value=!1;return}try{const{data:s}=await B.get(`/users/${j}/portfolio`);b.value=(s.projects||[]).map(l=>({id:l.id,title:l.title,shortDescription:l.description,detailedDescription:l.detailedDescription||l.description,imageUrl:l.images&&l.images.length>0?l.images[0]:"https://placehold.co/600x400/1e293b/FFF?text=Projeto",images:l.images||[],tags:l.tags||[],linkRepo:l.linkRepo,linkDeploy:l.linkDeploy})),a.value={id:s.id,name:s.name,role:s.role,headline:s.headline||"Desenvolvedor",location:s.location||"",bio:s.bio||`Olá! Sou ${s.name}.`,avatarUrl:s.avatarUrl||`https://ui-avatars.com/api/?name=${s.name}&background=6366f1&color=fff&size=256&bold=true`,social:s.social||{},skills:s.skills||[],experiences:s.experiences||[],education:s.education||[]}}catch(s){console.error("Erro ao carregar portfólio:",s),m.value=!0}finally{g.value=!1}}),(j,s)=>(o(),i("div",we,[g.value?(o(),i("div",Pe,[...s[2]||(s[2]=[e("div",{class:"spinner"},null,-1)])])):m.value?(o(),i("div",xe,[...s[3]||(s[3]=[e("h1",null,"404",-1),e("p",null,"Portfólio não encontrado.",-1),e("a",{href:"/",class:"btn-create"},"Voltar para Home",-1)])])):(o(),i("div",Ie,[s[19]||(s[19]=e("div",{class:"background-effects"},[e("div",{class:"circle-1"}),e("div",{class:"circle-2"})],-1)),e("header",Me,[e("div",Ve,[e("img",{src:G(J),alt:"DevDeck Logo",class:"brand-logo"},null,8,Ue),s[4]||(s[4]=e("a",{href:"/",class:"btn-create"},"Crie seu DevDeck",-1))])]),e("div",Ne,[e("aside",Se,[e("div",Ee,[e("div",Fe,[e("div",Be,[e("img",{src:a.value.avatarUrl,alt:a.value.name,class:"avatar"},null,8,Te)]),e("h1",Oe,r(a.value.name),1),e("h2",Re,r(a.value.headline),1),e("p",ze,[s[5]||(s[5]=e("i",{class:"bi bi-geo-alt-fill"},null,-1)),p(" "+r(a.value.location),1)]),e("p",Ae,r(a.value.bio),1)]),e("div",Le,[e("div",qe,[a.value.social.github?(o(),i("a",{key:0,href:a.value.social.github,target:"_blank",class:"social-icon"},[...s[6]||(s[6]=[e("i",{class:"bi bi-github"},null,-1)])],8,He)):d("",!0),a.value.social.linkedin?(o(),i("a",{key:1,href:a.value.social.linkedin,target:"_blank",class:"social-icon"},[...s[7]||(s[7]=[e("i",{class:"bi bi-linkedin"},null,-1)])],8,Ge)):d("",!0),a.value.social.website?(o(),i("a",{key:2,href:a.value.social.website,target:"_blank",class:"social-icon"},[...s[8]||(s[8]=[e("i",{class:"bi bi-globe"},null,-1)])],8,Je)):d("",!0)]),x.value?(o(),i("button",{key:0,class:"btn-contact-glow mt-4",onClick:O},[...s[9]||(s[9]=[e("i",{class:"bi bi-envelope-paper-fill"},null,-1),p(" Entrar em Contato ",-1)])])):d("",!0)])])]),e("main",Ke,[e("div",Qe,[a.value.skills.length?(o(),i("section",We,[s[10]||(s[10]=e("div",{class:"card-header-icon"},[e("i",{class:"bi bi-cpu-fill"}),p(" Tech Stack")],-1)),e("div",Xe,[(o(!0),i(k,null,_(a.value.skills,l=>(o(),i("span",{key:l,class:"skill-tag"},r(l),1))),128))])])):d("",!0),b.value.length?(o(),i("section",Ye,[s[12]||(s[12]=e("div",{class:"card-header-icon"},[e("i",{class:"bi bi-folder-fill"}),p(" Projetos ")],-1)),e("div",Ze,[(o(!0),i(k,null,_(b.value,l=>(o(),i("div",{key:l.id,class:"project-card clickable-card",onClick:_s=>T(l)},[e("div",ss,[e("img",{src:l.imageUrl,alt:l.title},null,8,ts)]),e("div",ls,[e("h4",null,r(l.title),1),e("p",null,r(l.shortDescription),1),s[11]||(s[11]=e("div",{class:"click-hint"},[e("span",null,"Ver Detalhes"),e("i",{class:"bi bi-arrow-right-short"})],-1))])],8,es))),128))])])):d("",!0),e("section",os,[a.value.experiences.length?(o(),i("div",is,[s[14]||(s[14]=e("h3",{class:"group-title sticky-title"},[e("i",{class:"bi bi-briefcase-fill"}),p(" Experiência")],-1)),e("div",as,[(o(!0),i(k,null,_(a.value.experiences,l=>(o(),i("div",{key:l.id,class:"timeline-item"},[s[13]||(s[13]=e("div",{class:"marker"},null,-1)),e("div",ns,[e("div",rs,[e("h4",null,r(l.role),1),e("span",cs,r(l.period),1)]),l.company?(o(),i("span",ds,r(l.company),1)):d("",!0),l.description?(o(),i("p",us,r(l.description),1)):d("",!0)])]))),128))])])):d("",!0),a.value.education.length?(o(),i("div",vs,[s[17]||(s[17]=e("h3",{class:"group-title sticky-title"},[e("i",{class:"bi bi-mortarboard-fill"}),p(" Formação")],-1)),e("div",ms,[(o(!0),i(k,null,_(a.value.education,l=>(o(),i("div",{key:l.id,class:"timeline-item"},[s[16]||(s[16]=e("div",{class:"marker edu"},null,-1)),e("div",bs,[e("div",gs,[e("h4",null,r(l.course),1),e("span",ps,r(l.year),1)]),l.institution?(o(),i("span",fs,r(l.institution),1)):d("",!0),l.certificateUrl?(o(),i("a",{key:1,href:l.certificateUrl,target:"_blank",class:"cert-link"},[...s[15]||(s[15]=[e("i",{class:"bi bi-file-earmark-text"},null,-1),p(" Ver Certificado ",-1)])],8,hs)):d("",!0)])]))),128))])])):d("",!0)]),s[18]||(s[18]=e("footer",{class:"internal-footer"},[p("Feito com "),e("a",{href:"#"},"DevDeck")],-1))])])])])),D(ge,{"is-open":t.value,project:y.value,onClose:s[0]||(s[0]=l=>t.value=!1)},null,8,["is-open","project"]),D(De,{"is-open":c.value,"receiver-id":a.value.id,"receiver-name":a.value.name,onClose:s[1]||(s[1]=l=>c.value=!1)},null,8,["is-open","receiver-id","receiver-name"])]))}}),js=P(ks,[["__scopeId","data-v-e99831c7"]]);export{js as default};

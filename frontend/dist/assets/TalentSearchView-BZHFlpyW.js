import{d as V,r,w as C,x as T,g as t,i as e,p as P,v as B,h as f,t as i,F as g,k,q as N,l as U,B as S,o as l,_ as D}from"./index-G_Ayme-S.js";const R={class:"search-panel"},$={class:"panel-header-controls"},q={class:"control-item search-wrapper"},E={class:"pagination-controls-inline"},F=["disabled"],L={class:"page-number"},M=["disabled"],z={key:0,class:"page-info"},I={class:"content-area"},J={key:0,class:"state-container"},O={key:1,class:"state-container"},Q={key:2,class:"talent-grid"},j={class:"card-top"},A=["src","alt"],G={class:"dev-info"},H={class:"headline"},K={class:"location"},W={class:"card-skills"},X={key:0,class:"skill-more"},Y=["onClick"],Z=V({__name:"TalentSearchView",setup(ee){S();const v=r([]),c=r(""),u=r(!0),o=r(1),b=r(8),d=r(1),h=r(0);async function p(){u.value=!0;try{const{data:n}=await N.get("/users",{params:{q:c.value,page:o.value,limit:b.value}}),a=n.data||[];v.value=a.map(s=>({id:s.id,name:s.name,headline:s.headline||"Desenvolvedor",avatarUrl:s.avatarUrl||`https://ui-avatars.com/api/?name=${s.name}&background=6366f1&color=fff`,skills:s.skills?typeof s.skills=="string"?JSON.parse(s.skills):s.skills:[],location:s.location||"Remoto"})),d.value=n.lastPage||1,h.value=n.total||0}catch(n){console.error("Erro:",n)}finally{u.value=!1}}let m;C(c,n=>{clearTimeout(m),m=setTimeout(()=>{o.value=1,p()},500)});function y(){o.value>1&&(o.value--,p())}function w(){o.value<d.value&&(o.value++,p())}function x(n){window.open(`/portfolio/${n}`,"_blank")}return T(()=>p()),(n,a)=>(l(),t("div",R,[e("div",$,[e("div",q,[a[1]||(a[1]=e("i",{class:"bi bi-search"},null,-1)),P(e("input",{"onUpdate:modelValue":a[0]||(a[0]=s=>c.value=s),type:"text",placeholder:"Buscar talentos..."},null,512),[[B,c.value]])]),e("div",E,[e("button",{class:"control-item btn-page",disabled:o.value===1,onClick:y},[...a[2]||(a[2]=[e("i",{class:"bi bi-chevron-left"},null,-1)])],8,F),e("span",L,i(o.value)+" / "+i(d.value),1),e("button",{class:"control-item btn-page",disabled:o.value===d.value,onClick:w},[...a[3]||(a[3]=[e("i",{class:"bi bi-chevron-right"},null,-1)])],8,M),u.value?f("",!0):(l(),t("span",z,"("+i(h.value)+" encontrados)",1))])]),e("div",I,[u.value?(l(),t("div",J,[...a[4]||(a[4]=[e("div",{class:"spinner"},null,-1),e("p",null,"Carregando...",-1)])])):v.value.length===0?(l(),t("div",O,[...a[5]||(a[5]=[e("i",{class:"bi bi-people",style:{"font-size":"3rem",opacity:"0.5"}},null,-1),e("p",null,"Nenhum talento encontrado.",-1)])])):(l(),t("div",Q,[(l(!0),t(g,null,k(v.value,s=>(l(),t("div",{key:s.id,class:"talent-card"},[e("div",j,[e("img",{src:s.avatarUrl,alt:s.name,class:"dev-avatar"},null,8,A),e("div",G,[e("h3",null,i(s.name),1),e("span",H,i(s.headline),1),e("span",K,[a[6]||(a[6]=e("i",{class:"bi bi-geo-alt-fill"},null,-1)),U(" "+i(s.location),1)])])]),e("div",W,[(l(!0),t(g,null,k(s.skills.slice(0,3),_=>(l(),t("span",{key:_,class:"skill-tag"},i(_),1))),128)),s.skills.length>3?(l(),t("span",X,"+"+i(s.skills.length-3),1)):f("",!0)]),e("button",{class:"btn-view-profile",onClick:_=>x(s.id)}," Ver Perfil ",8,Y)]))),128))]))])]))}}),ae=D(Z,[["__scopeId","data-v-e13c589c"]]);export{ae as default};
